<script>
    const socket = new WebSocket('ws://localhost:8080');

    // Open WebSocket connection
    socket.addEventListener('open', () => {
        console.log('Connected to WebSocket server');
    });

    // Receive messages from the server
    socket.addEventListener('message', (event) => {
        const messageData = event.data;
        const container = chatContainer.classList.contains('active') ? messagesDiv : adultMessagesDiv;
        container.innerHTML += `<div>${messageData}</div>`;
    });

    // Send messages to the server
    sendButton.addEventListener('click', () => {
        sendMessageToServer(messageInput.value);
    });

    adultSendButton.addEventListener('click', () => {
        sendMessageToServer(adultMessageInput.value);
    });

    function sendMessageToServer(message) {
        if (message.trim()) {
            const formattedMessage = `${username}: ${message}`;
            socket.send(formattedMessage);
        }
    }
</script>
